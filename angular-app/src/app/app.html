<div class="app-container">
  <!-- Main Content Area -->
  <div class="content">
    <router-outlet></router-outlet>
  </div>

  <!-- PWA Install Prompt -->
  <app-pwa-install-prompt></app-pwa-install-prompt>

  <!-- Floating Camera Button -->
  <button 
    mat-fab 
    class="camera-fab"
    (click)="onCameraClick()"
    aria-label="Open Camera">
    <mat-icon>photo_camera</mat-icon>
  </button>

  <!-- Floating Ask AI Button -->
  @if (!isOnAskAIPage()) {
    <button 
      mat-raised-button
      class="ai-fab"
      (click)="onAskAIClick()"
      aria-label="Ask AI">
      <mat-icon>auto_awesome</mat-icon>
      <span>Ask AI</span>
    </button>
  }

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <mat-tab-group 
      [(selectedIndex)]="activeTabIndex"
      (selectedIndexChange)="onTabChange($event)"
      mat-stretch-tabs="false"
      mat-align-tabs="center"
      animationDuration="200ms">
      
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>dashboard</mat-icon>
          <span>Dashboard</span>
        </ng-template>
      </mat-tab>
      
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon>receipt_long</mat-icon>
          <span>History</span>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </nav>
</div>
